# YOLOv5 Hyperparameters for Green Background Scenarios (e.g., peacock detection)
# Optimized to reduce false positives on green backgrounds

# Learning Parameters
lr0: 0.0012      # Initial learning rate (20% lower than default 0.01)
lrf: 0.083       # Final learning rate = lr0 * lrf â‰ˆ 0.0001 (aggressive decay)
momentum: 0.92   # Reduced momentum (from 0.937)
weight_decay: 0.0004  # L2 regularization weight (from 0.0005)

# Warmup Settings
warmup_epochs: 5.0    # Extended warmup (from 3.0)
warmup_momentum: 0.8  # Initial warmup momentum
warmup_bias_lr: 0.1   # Warmup initial bias lr

# Loss Weights (Focus on classification)
box: 0.05    # Box loss gain (unchanged)
cls: 0.8     # Increased classification loss weight (from 0.5)
cls_pw: 1.2  # Higher weight for positive classification samples
obj: 0.7     # Reduced objectness loss weight (from 1.0)
obj_pw: 1.0  # Objectness positive weight

# Training Thresholds
iou_t: 0.15      # Lower IoU training threshold (from 0.20)
anchor_t: 3.5    # Slightly relaxed anchor threshold (from 4.0)
fl_gamma: 0.5    # Mild focal loss (from 0.0)

# Color Augmentation (Suppress Green Dominance)
hsv_h: 0.01      # Reduced hue variation (from 0.015)
hsv_s: 0.5       # Lower saturation augmentation (from 0.7)
hsv_v: 0.3       # Reduced value augmentation (from 0.4)

# Geometric Augmentation (Conservative)
degrees: 5.0     # Limited rotation (from 0.0)
translate: 0.05  # Reduced translation (from 0.1)
scale: 0.3       # Smaller scale variation (from 0.5)
shear: 2.0       # Mild shear (from 0.0)
perspective: 0.00005  # Minimal perspective (from 0.0)

# Special Augmentations (Critical Changes)
flipud: 0.0      # Disable up-down flip
fliplr: 0.3      # Reduced left-right flip (from 0.5)
mosaic: 0.0      # Disable mosaic (from 1.0)
mixup: 0.0       # Disable mixup
copy_paste: 0.0  # Disable copy-paste

# New Green-Specific Parameters
green_suppress: 0.7  # Green channel suppression factor
non_green_boost: 1.3  # Color enhancement for non-green areas